**<h2>Background on Blind SQLi</h2>**

Blind SQL injection is an attack where the output of query is not directly seen, but it manipulates the database through the query. We infer information based on application's behaviour.
<br>
In blind SQL injection, the attacker does not see the results directly but can still extract information by asking true/false questions.

**<h2>Exploiting blind SQL injection by triggering conditional responses</h2>**

Imagine a website with a login form. A user is required to enter a **_username_** and **_password_** to log in. Behind the scenes, the website performs a SQL query to check if the credentials are correct:

``SELECT * FROM users WHERE username = 'user_input' AND password = 'user_password';``

If an error message isn't displayed, attackers may use other methods to infer responses. For instance:<br>
_**If the attacker inputs:**_<br>
``Username: john' AND (SELECT LENGT(password)FROM users WHERE username = 'john') = 8 --Password: anything``

This checks if the length of 'johnâ€™s' password is 8 characters. If the page responds differently (like a redirect, delay, or error message,(e.g "Welcome Back" message)), the attacker can infer whether the condition was true or false.

**<h2>Problem:</h2>**
The application uses a tracking cookie for analytics, and performs a SQL query containing the value of the submitted cookie.

The results of the SQL query are not returned, and no error messages are displayed. But the application includes a "Welcome back" message in the page if the query returns any rows.

The database contains a different table called users, with columns called username and password. You need to exploit the blind SQL injection vulnerability to find out the password of the administrator user.

**<h3>Goal:</h3>**
log in as the administrator user. 

**<h2>Solution:</h2>**
- We see a "Welcome Back!" message from the given tracking id.
![alt text](/images/lab11trackingid.png)

- We check that the application is actually vulnerable to blind sql by passing one **_true_** condition and other **_false_** condition and check the response
``' and 1=1--`` and ``' and 1=0--``
- For 1st case the application printed welcome back message but for the second condition there was no such message. Hence we conclude that this appliation is vulnerable to blind SQLi.
- We know that there is a table users containing username and password. TO actually check if the users table exists we use ``' and (select 'a' from users limit 1) = 'a`` and checking response that it exists.
![alt text](/images/lab11userstable.png)
- Now we check if username administrator exists in the table using query `` ' and (select username from users where username = 'administrator')='a``
![alt text](/images/lab11admin.png)
- Now we have to check how many character are in the password using following query:  `` ' and (select username from users where username = 'administrator' and length(password)>1)='a`` which gives response meaning lenfth of password is greater than 1.
- Now we can automate this condition using Burp Intruder. Send this request to burp intruder. Add the $ to the number 1 to automate the length and choose numbers in the payload type. 
![alt text](/images/lab11intruder.png)
- Now we automate the password like in the above step we add $ to 'a' in this query ``' and (select substring(password,1,1) from users where username='administrator')='a`` we get first character to be v.
![alt text](/images/lab11firstcharacter.png)
- Instead of trying one password length at a time we use cluster bomb to enumerate password and password length. So we got the password
![alt text](/images/lab11pass.png)

- login with password to solve this lab.


**<h2>Credits:</h2>**
About Intruder:
https://www.youtube.com/watch?v=ZUKvet_BsoY